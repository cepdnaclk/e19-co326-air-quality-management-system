<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="544.8px" preserveAspectRatio="none" style="width:470px;height:544px;" version="1.1" viewBox="0 0 470 544" width="470.4px" zoomAndPan="magnify"><defs><filter height="300%" id="fqoijhe1a4k0w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqoijhe1a4k0w)" height="100.0781" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="357" y="200.1938"/><rect fill="#FFFFFF" filter="url(#fqoijhe1a4k0w)" height="34.9594" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="357" y="440.1094"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="43.2" x2="43.2" y1="45.9563" y2="496.6688"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="363" x2="363" y1="45.9563" y2="496.6688"/><rect fill="#FEFECE" filter="url(#fqoijhe1a4k0w)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="63.6" x="9.6" y="3.6"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="18" y="27.5941">Client</text><rect fill="#FEFECE" filter="url(#fqoijhe1a4k0w)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="63.6" x="9.6" y="495.4688"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="18" y="519.4629">Client</text><rect fill="#FEFECE" filter="url(#fqoijhe1a4k0w)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="136.8" x="292.2" y="3.6"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="120" x="300.6" y="27.5941">Authentication</text><rect fill="#FEFECE" filter="url(#fqoijhe1a4k0w)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="136.8" x="292.2" y="495.4688"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="120" x="300.6" y="519.4629">Authentication</text><rect fill="#FFFFFF" filter="url(#fqoijhe1a4k0w)" height="100.0781" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="357" y="200.1938"/><rect fill="#FFFFFF" filter="url(#fqoijhe1a4k0w)" height="34.9594" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="357" y="440.1094"/><polygon fill="#A80036" points="348.6,78.5156,360.6,83.3156,348.6,88.1156,353.4,83.3156" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="43.8" x2="355.8" y1="83.3156" y2="83.3156"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="290.4" x="52.2" y="77.2365">1.0 SASL PLAIN (username/password)</text><path d="M283.2,98.9156 L283.2,128.9156 L438,128.9156 L438,110.9156 L426,98.9156 L283.2,98.9156 " fill="#FBFB77" filter="url(#fqoijhe1a4k0w)" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M426,98.9156 L426,110.9156 L438,110.9156 L426,98.9156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="290.4" y="119.3959">verify credentials</text><polygon fill="#A80036" points="57,160.4344,45,165.2344,57,170.0344,52.2,165.2344" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="361.8" y1="165.2344" y2="165.2344"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="96" x="64.2" y="159.1553">1.1 SASL OK</text><polygon fill="#A80036" points="342.6,195.3937,354.6,200.1938,342.6,204.9938,347.4,200.1938" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="43.8" x2="349.8" y1="200.1938" y2="200.1938"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="52.2" y="194.1146">2.0 open</text><path d="M265.2,215.7938 L265.2,263.7938 L456,263.7938 L456,227.7938 L444,215.7938 L265.2,215.7938 " fill="#FBFB77" filter="url(#fqoijhe1a4k0w)" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M444,215.7938 L444,227.7938 L456,227.7938 L444,215.7938 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="165.6" x="272.4" y="236.274">determine authorities</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="97.2" x="272.4" y="254.4334">create token</text><polygon fill="#A80036" points="57,295.4719,45,300.2719,57,305.0719,52.2,300.2719" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="361.8" y1="300.2719" y2="300.2719"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="64.2" y="294.1928">2.1 open</text><polygon fill="#A80036" points="348.6,330.4313,360.6,335.2313,348.6,340.0313,353.4,335.2313" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="43.8" x2="355.8" y1="335.2313" y2="335.2313"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="168" x="52.2" y="329.1521">3.0 attach(REC, "cbs")</text><polygon fill="#A80036" points="57,365.3906,45,370.1906,57,374.9906,52.2,370.1906" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="361.8" y1="370.1906" y2="370.1906"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="78" x="64.2" y="364.1115">3.1 attach</text><polygon fill="#A80036" points="57,400.35,45,405.15,57,409.95,52.2,405.15" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="361.8" y1="405.15" y2="405.15"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="144" x="64.2" y="399.0709">3.2 transfer(token)</text><polygon fill="#A80036" points="342.6,435.3094,354.6,440.1094,342.6,444.9094,347.4,440.1094" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="43.8" x2="349.8" y1="440.1094" y2="440.1094"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="68.4" x="52.2" y="434.0303">4.0 close</text><polygon fill="#A80036" points="57,470.2687,45,475.0687,57,479.8688,52.2,475.0687" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="361.8" y1="475.0687" y2="475.0687"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="68.4" x="64.2" y="468.9896">4.1 close</text><!--
@startuml
scale 1.2

participant Client
participant Authentication

Client -> Authentication: 1.0 SASL PLAIN (username/password)

note over Authentication
    verify credentials
end note

Client <- Authentication: 1.1 SASL OK

Client -> Authentication ++: 2.0 open

note over Authentication
    determine authorities
    create token
end note

Client <- Authentication - -: 2.1 open

Client -> Authentication: 3.0 attach(REC, "cbs")
Client <- Authentication: 3.1 attach
Client <- Authentication: 3.2 transfer(token)

Client -> Authentication ++: 4.0 close
Client <- Authentication - -: 4.1 close
@enduml

PlantUML version 1.2019.07beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>