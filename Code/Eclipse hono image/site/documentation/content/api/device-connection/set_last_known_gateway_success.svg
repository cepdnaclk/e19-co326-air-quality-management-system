<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="234px" preserveAspectRatio="none" style="width:771px;height:234px;" version="1.1" viewBox="0 0 771 234" width="771.6px" zoomAndPan="magnify"><defs><filter height="300%" id="fqm2tm43gwn4n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqm2tm43gwn4n)" height="81.9188" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="612.6" y="83.3156"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="43.2" x2="43.2" y1="45.9563" y2="186.8344"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="618" x2="618" y1="45.9563" y2="186.8344"/><rect fill="#FEFECE" filter="url(#fqm2tm43gwn4n)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="63.6" x="9.6" y="3.6"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="18" y="27.5941">Client</text><rect fill="#FEFECE" filter="url(#fqm2tm43gwn4n)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="63.6" x="9.6" y="185.6344"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="18" y="209.6285">Client</text><rect fill="#FEFECE" filter="url(#fqm2tm43gwn4n)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="238.8" x="496.8" y="3.6"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="222" x="505.2" y="27.5941">Device Connection Service</text><rect fill="#FEFECE" filter="url(#fqm2tm43gwn4n)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="238.8" x="496.8" y="185.6344"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="222" x="505.2" y="209.6285">Device Connection Service</text><rect fill="#FFFFFF" filter="url(#fqm2tm43gwn4n)" height="81.9188" style="stroke: #A80036; stroke-width: 1.2;" width="12" x="612.6" y="83.3156"/><polygon fill="#A80036" points="598.2,78.5156,610.2,83.3156,598.2,88.1156,603,83.3156" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="43.8" x2="605.4" y1="83.3156" y2="83.3156"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="546" x="52.2" y="77.2365">transfer(subject: "set-last-gw", device_id: "device-1", gateway_id: "gw-1)</text><path d="M475.2,98.9156 L475.2,128.9156 L757.2,128.9156 L757.2,110.9156 L745.2,98.9156 L475.2,98.9156 " fill="#FBFB77" filter="url(#fqm2tm43gwn4n)" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M745.2,98.9156 L745.2,110.9156 L757.2,110.9156 L745.2,98.9156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="256.8" x="482.4" y="119.3959">set last known gateway for device</text><polygon fill="#A80036" points="57,160.4344,45,165.2344,57,170.0344,52.2,165.2344" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="49.8" x2="617.4" y1="165.2344" y2="165.2344"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="170.4" x="64.2" y="159.1553">transfer(status: "204")</text><!--
@startuml
scale 1.2

Client -> "Device Connection Service": transfer(subject: "set-last-gw", device_id: "device-1", gateway_id: "gw-1)
activate "Device Connection Service"
note over "Device Connection Service"
set last known gateway for device
end note
"Device Connection Service" -> Client: transfer(status: "204")
deactivate "Device Connection Service"
@enduml

PlantUML version 1.2019.07beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>